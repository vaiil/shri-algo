<html lang="ru">
<head>
    <title>Merge sort</title>
</head>
<body>
<script>

  function mergeSort (arr) {
    if (arr.length === 1) {
      return [arr[0]]
    } else if (arr.length === 2) {
      return arr[1] > arr[0] ? arr : arr.reverse()
    }
    const mid = Math.floor(arr.length / 2)
    const left = mergeSort(arr.slice(0, mid))
    const right = mergeSort(arr.slice(mid, arr.length))
    const result = []
    let leftItem = left.shift()
    let rightItem = right.shift()
    while (leftItem !== undefined && rightItem !== undefined) {
      if (leftItem <= rightItem) {
        result.push(leftItem)
        leftItem = left.shift()
      } else {
        result.push(rightItem)
        rightItem = right.shift()
      }
    }
    if (leftItem !== undefined) {
      result.push(leftItem)
      return result.concat(left)
    } else {
      result.push(rightItem)
      return result.concat(right)
    }
  }

  function sort (arr) {
    return mergeSort(arr, 0, arr.length)
  }

  const arr = [0, 4, 1, -5, 6, 2]
  console.log('Unsorted #1: ', arr.slice())
  console.log('Sorted #1', sort(arr))

  const a2 = ['a', 'b', 'bbb', 'a']
  console.log('Unsorted #2: ', a2.slice())
  console.log('Sorted #2: ', sort(a2))
</script>
</body>
</html>